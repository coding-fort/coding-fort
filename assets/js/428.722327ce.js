(window.webpackJsonp=window.webpackJsonp||[]).push([[428],{755:function(s,n,t){"use strict";t.r(n);var a=t(25),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"_1-webpack-的热更新原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-webpack-的热更新原理"}},[s._v("#")]),s._v(" 1.webpack 的热更新原理")]),s._v(" "),n("div",{staticClass:"language-md line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-md"}},[n("code",[n("span",{pre:!0,attrs:{class:"token title important"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("###")]),s._v(" 模块热替换（Hot Module Replacement）：")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[s._v("`Webpack`")]),s._v(" 的热更新基于模块热替换技术。它允许在应用程序运行过程中替换、添加或删除模块，而无需完全刷新页面。\n这种替换是在运行时进行的，可以使应用程序保持在当前状态下重新加载所需的部分。\n\n"),n("span",{pre:!0,attrs:{class:"token title important"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("###")]),s._v(" HMR Runtime（热更新运行时）：")]),s._v("\n\nWebpack 会在构建过程中生成一个称为 HMR Runtime 的代码块。这段代码在运行时与应用程序一起加载，\n并通过 "),n("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[s._v("`WebSocket`")]),s._v(" 与开发服务器保持连接。"),n("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[s._v("`HMR Runtime`")]),s._v(" 负责管理模块热替换的逻辑。\n\n"),n("span",{pre:!0,attrs:{class:"token title important"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("###")]),s._v(" 监视文件变化：")]),s._v("\n\n在开发模式下，Webpack 会监视项目中各个文件的变化。当开发者保存文件时，Webpack 检测到文件发生变化，并"),n("span",{pre:!0,attrs:{class:"token code-snippet code keyword"}},[s._v("`触发重新编译`")]),s._v("过程。\n\n"),n("span",{pre:!0,attrs:{class:"token title important"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("###")]),s._v(" 构建更新的模块：")]),s._v("\n\n在重新编译过程中，Webpack 会确定哪些模块发生了变化，并构建更新的模块。这些更新的模块并不会替换现有的模块，而是生成一个更新的版本。\n\n"),n("span",{pre:!0,attrs:{class:"token title important"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("###")]),s._v(" HMR 接口：")]),s._v("\n\nHMR Runtime 与开发服务器建立了 WebSocket 连接，并通过 HMR 接口通信。当构建完成并生成了更新的模块时，\nWebpack 会将更新的模块信息通过 HMR 接口发送给 HMR Runtime。\n\n"),n("span",{pre:!0,attrs:{class:"token title important"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("###")]),s._v(" 热更新处理：")]),s._v("\n\nHMR Runtime 接收到更新的模块信息后，会根据更新的模块执行相应的操作。这可能涉及替换现有的模块、添加新模块或删除不再需要的模块。\n这样，应用程序的状态就得到了实时更新，而不需要完全刷新页面。\n\n总的来说，Webpack 的热更新利用了模块热替换技术和 HMR Runtime，通过监视文件变化、构建更新的模块，\n并通过 WebSocket 与开发服务器进行通信，实现了代码的实时更新和页面局部刷新，提高了开发效率和体验。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);